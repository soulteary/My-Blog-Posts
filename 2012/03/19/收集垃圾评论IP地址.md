# 收集垃圾评论IP地址

小博客建立了这么些日子来，中途还更换了一次程序，到底收到多少垃圾我也不知道了。 

后台看了一眼Akismet，发现统计到的垃圾评论有5000多条。

[![20120319073035](https://attachment.soulteary.com/2012/03/19/20120319073035.jpg "20120319073035")](https://attachment.soulteary.com/2012/03/19/20120319073035.jpg)


其中2010年属于高发期...之后由于使用了注册评论和审核评论，数量大为减少。

垃圾评论的机制也一直在变化着，从以前的判断用户权重，从允许数量给与权重，到审核注册用户发言机制。

到后来的程序关键字，以及目前的信用机制（akismet实际是信用机制），即使你不熟悉程序，也能猜到它的大概运行机制。

判断请求路径，是否有refer，判断IP段，判断url，判断用户名，判断邮箱，当然还有链接数量，XSS内容检查等。

然后把这些都作为信用条目，凭借出现频度和用户标记情况做计算，并选择性的添加到用户数据库内，有多条不符合的直接删除。


[info]2009年7月，曾经把大量的蜘蛛和机器人（软件POSTER）用IP来限制访问。[日志原文](http://promiseforever.com/2009/07/12/%E5%9E%83%E5%9C%BE%E8%AF%84%E8%AE%BA%E7%9A%84ip.html)[/info]

[info]今年一月觉得大量垃圾评论在网站无非是想获得带有http://开头的网址内容以及描述，于是进行评论地址修改。[日志原文](http://promiseforever.com/2012/01/30/%E8%AF%84%E8%AE%BA%E4%BF%A1%E6%81%AF%E8%BF%87%E6%BB%A4%E4%BF%9D%E6%8A%A4.html)[/info]

[info]今年一月又发现大量的伪造邮箱会引起wordpress获取头像速度过慢，又进一步修改。[日志原文](http://promiseforever.com/2012/02/01/%E9%92%88%E5%AF%B9%E5%9E%83%E5%9C%BE%E8%AF%84%E8%AE%BA%E7%9A%84%E8%BF%9B%E4%B8%80%E6%AD%A5%E4%BC%98%E5%8C%96.html)[/info]

在因为升级程序后,停止使用了一阵IP过滤后,发现垃圾评论又有了新的趋势.
而且反反复复就那么几种,着实叫我看着心烦.于是,再次使用IP过滤.经过整理,
最近一周比较活跃的垃圾评论IP为以下:



[tabs]
[tab title="浙江省湖州市 电信"]
115.207.139.119
115.207.136.142
115.207.135.251
115.208.137.150
115.208.141.104
115.208.141.235
115.208.136.252
[/tab]
[tab title="贵州省贵阳市 联通"]
111.85.239.181
[/tab]
[tab title="浙江省衢州市 联通"]
123.148.193.44
[/tab]
[tab title="北京市 电信通"]
219.239.205.142
[/tab]
[tab title="辽宁省 联通"]
119.114.74.7
[/tab]
[tab title="山西省阳泉市 电信"]
110.180.93.82
110.180.81.182
[/tab]
[tab title="广东省广州市 联通"]
58.249.118.218
[/tab]
[/tabs]




[tabs]
[tab title="英国"]
31.193.7.135
[/tab]
[tab title="法国"]
193.105.210.84
193.105.210.17
[/tab]
[tab title="乌克兰"]
178.95.4.25
[/tab]
[tab title="德国"]
109.230.246.239
46.251.237.94
[/tab]
[tab title="罗马尼亚"]
94.63.4.84
[/tab]
[tab title="意大利"]
195.62.25.253
195.62.25.209
[/tab]
[tab title="拉托维亚"]
46.109.198.20
[/tab]
[tab title="俄罗斯"]
46.17.96.220 
[/tab]
[tab title="美国"]
23.19.127.233
[/tab]
[tab title="捷克"]
91.221.148.102
[/tab]
[/tabs]

顺便说下，国外的也不一定就是国外广告从业者在进行发布，因为现在VPS等越来越便宜，虚拟主机更是白菜价格，使用python或者php、asp编写一个poster门槛也很低了，而且国外的DSL用户也很多，所以呢。如果发现某个IP段很活跃的话，把IP段进行屏蔽，
如果发现某个IP很活跃的话，进行IP屏蔽。
如果你担心访客流失的话，不妨在屏蔽页面上进行说明。

细节神马，稍后再说。

